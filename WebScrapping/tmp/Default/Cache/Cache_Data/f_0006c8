var webengage=self.webengage||{};!function(j,o,a){var c,s;c={},s={},o.__loaded||(o.__loaded=!0,o.require=function(t){if(!c[t]){if(!s[t])throw new Error('Cannot find module "'+t+'"');var e=c[t]={exports:{}};s[t][0].call(e.exports,function(e){return o.require(s[t][1][e]||e)},e,e.exports)}return c[t].exports},o.modules=function(e,t,n){for(var r in e)e.hasOwnProperty(r)&&!s.hasOwnProperty(r)&&(s[r]=e[r]);for(var i=0;i<n.length;i++)c.hasOwnProperty(n[i])||o.require(n[i])}),o.modules({"webengage/util/bare":[function(e,t,n){"use strict";var r={copy:function(e,t,n,r){for(var i in n=!1!==n,t)if(t.hasOwnProperty(i)&&(e[i]===a||n)){if(r&&t[i]==a)continue;e[i]=t[i]}return e},clone:function(e,t){return r.copy(r.copy({},e),t)},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},strunc:function(e,t){return e&&e.substr(0,t)},isArray:function(e){return e&&e.constructor==Array},inArray:function(e,t){return-1!==r.indexOfArray(e,t)},indexOfArray:function(e,t,n){return e.indexOf(t,n)},mapArray:function(e,t){return e.map(t)},stringify:function(e){return JSON.stringify(e)},parseJSON:function(e){return JSON.parse(e)},getHashCode:function(e){e=e||"";for(var t=0,n=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},capitalize:function(e){return"string"==typeof e&&0<e.length&&(e=e.charAt(0).toUpperCase()+e.substring(1)),e},ensureString:function(e){return"string"==typeof e?e:""},escapeScopeChars:function(e){return(e+"").replace(/([,#[\]\\])/g,"$1")},escapeForRegExp:function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},toDateISOString:function(e){return e.toISOString()},fromDateISOString:function(e){return new Date(e)},guard:function(e,t){if("function"!=typeof e)throw new Error("guard() - First argument is not a function");return function(){try{return e.apply(this,arguments)}catch(e){if(o.require("webengage/events").publish("error",e),!0!==t)throw e}}},addParamsToURL:function(e,t){var n=[];for(var r in t)t.hasOwnProperty(r)&&t[r]!=a&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.length&&(-1===e.indexOf("?")?e+="?":e.indexOf("?")!==e.length-1&&"&"!==e.charAt(e.length-1)&&(e+="&"),e+=n.join("&")),e},base64Encode:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))},base64Decode:function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},urlBase64ToUint8Array:function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},pick:function(n,e){return e.reduce(function(e,t){return n&&Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]),e},{})},isPropertyPersonalized:function(e,t,n){var r="we-"+(n.id+"-"+n.experimentId).replace(/~/g,"t_");if(t){return null!=((["before","after"].includes(t)?e.parentElement:e)||document.querySelector("html")).querySelector("#"+r+" .webengage-webp13-container")}return!1}};t.exports=r},{}],"webengage/util/compress":[function(e,t,n){"use strict";var b={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(null==e)return"";var t,n,r,i,o,a,c,s="",u=0;for(e=b.compress(e);u<2*e.length;)u%2==0?(t=e.charCodeAt(u/2)>>8,n=255&e.charCodeAt(u/2),r=u/2+1<e.length?e.charCodeAt(u/2+1)>>8:NaN):(t=255&e.charCodeAt((u-1)/2),(u+1)/2<e.length?(n=e.charCodeAt((u+1)/2)>>8,r=255&e.charCodeAt((u+1)/2)):n=r=NaN),u+=3,i=t>>2,o=(3&t)<<4|n>>4,a=(15&n)<<2|r>>6,c=63&r,isNaN(n)?a=c=64:isNaN(r)&&(c=64),s=s+b._keyStr.charAt(i)+b._keyStr.charAt(o)+b._keyStr.charAt(a)+b._keyStr.charAt(c);return s},decompressFromBase64:function(e){if(null==e)return"";var t,n,r,i,o,a,c,s="",u=0,f=0,l=b._f;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");f<e.length;)n=b._keyStr.indexOf(e.charAt(f++))<<2|(o=b._keyStr.indexOf(e.charAt(f++)))>>4,r=(15&o)<<4|(a=b._keyStr.indexOf(e.charAt(f++)))>>2,i=(3&a)<<6|(c=b._keyStr.indexOf(e.charAt(f++))),u%2==0?(t=n<<8,64!=a&&(s+=l(t|r)),64!=c&&(t=i<<8)):(s+=l(t|n),64!=a&&(t=r<<8),64!=c&&(s+=l(t|i))),u+=3;return b.decompress(s)},compress:function(e){if(null==e)return"";var t,n,r,i={},o={},a="",c="",s="",u=2,f=3,l=2,d="",p=0,g=0,h=b._f;for(r=0;r<e.length;r+=1)if(a=e.charAt(r),Object.prototype.hasOwnProperty.call(i,a)||(i[a]=f++,o[a]=!0),c=s+a,Object.prototype.hasOwnProperty.call(i,c))s=c;else{if(Object.prototype.hasOwnProperty.call(o,s)){if(s.charCodeAt(0)<256){for(t=0;t<l;t++)p<<=1,15==g?(g=0,d+=h(p),p=0):g++;for(n=s.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&n,15==g?(g=0,d+=h(p),p=0):g++,n>>=1}else{for(n=1,t=0;t<l;t++)p=p<<1|n,15==g?(g=0,d+=h(p),p=0):g++,n=0;for(n=s.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&n,15==g?(g=0,d+=h(p),p=0):g++,n>>=1}0==--u&&(u=Math.pow(2,l),l++),delete o[s]}else for(n=i[s],t=0;t<l;t++)p=p<<1|1&n,15==g?(g=0,d+=h(p),p=0):g++,n>>=1;0==--u&&(u=Math.pow(2,l),l++),i[c]=f++,s=String(a)}if(""!==s){if(Object.prototype.hasOwnProperty.call(o,s)){if(s.charCodeAt(0)<256){for(t=0;t<l;t++)p<<=1,15==g?(g=0,d+=h(p),p=0):g++;for(n=s.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&n,15==g?(g=0,d+=h(p),p=0):g++,n>>=1}else{for(n=1,t=0;t<l;t++)p=p<<1|n,15==g?(g=0,d+=h(p),p=0):g++,n=0;for(n=s.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&n,15==g?(g=0,d+=h(p),p=0):g++,n>>=1}0==--u&&(u=Math.pow(2,l),l++),delete o[s]}else for(n=i[s],t=0;t<l;t++)p=p<<1|1&n,15==g?(g=0,d+=h(p),p=0):g++,n>>=1;0==--u&&(u=Math.pow(2,l),l++)}for(n=2,t=0;t<l;t++)p=p<<1|1&n,15==g?(g=0,d+=h(p),p=0):g++,n>>=1;for(;;){if(p<<=1,15==g){d+=h(p);break}g++}return d},decompress:function(e){if(null==e)return"";if(""==e)return null;var t,n,r,i,o,a,c,s=[],u=4,f=4,l=3,d="",p="",g=b._f,h={string:e,val:e.charCodeAt(0),position:32768,index:1};for(t=0;t<3;t+=1)s[t]=t;for(r=0,o=Math.pow(2,2),a=1;a!=o;)i=h.val&h.position,h.position>>=1,0==h.position&&(h.position=32768,h.val=h.string.charCodeAt(h.index++)),r|=(0<i?1:0)*a,a<<=1;switch(r){case 0:for(r=0,o=Math.pow(2,8),a=1;a!=o;)i=h.val&h.position,h.position>>=1,0==h.position&&(h.position=32768,h.val=h.string.charCodeAt(h.index++)),r|=(0<i?1:0)*a,a<<=1;c=g(r);break;case 1:for(r=0,o=Math.pow(2,16),a=1;a!=o;)i=h.val&h.position,h.position>>=1,0==h.position&&(h.position=32768,h.val=h.string.charCodeAt(h.index++)),r|=(0<i?1:0)*a,a<<=1;c=g(r);break;case 2:return""}for(n=p=s[3]=c;;){if(h.index>h.string.length)return"";for(r=0,o=Math.pow(2,l),a=1;a!=o;)i=h.val&h.position,h.position>>=1,0==h.position&&(h.position=32768,h.val=h.string.charCodeAt(h.index++)),r|=(0<i?1:0)*a,a<<=1;switch(c=r){case 0:for(r=0,o=Math.pow(2,8),a=1;a!=o;)i=h.val&h.position,h.position>>=1,0==h.position&&(h.position=32768,h.val=h.string.charCodeAt(h.index++)),r|=(0<i?1:0)*a,a<<=1;s[f++]=g(r),c=f-1,u--;break;case 1:for(r=0,o=Math.pow(2,16),a=1;a!=o;)i=h.val&h.position,h.position>>=1,0==h.position&&(h.position=32768,h.val=h.string.charCodeAt(h.index++)),r|=(0<i?1:0)*a,a<<=1;s[f++]=g(r),c=f-1,u--;break;case 2:return p}if(0==u&&(u=Math.pow(2,l),l++),s[c])d=s[c];else{if(c!==f)return null;d=n+n.charAt(0)}p+=d,s[f++]=n+d.charAt(0),n=d,0==--u&&(u=Math.pow(2,l),l++)}}};t.exports=b},{}],"webengage/util/sha1":[function(e,t,n){"use strict";t.exports=function(e){function t(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function n(e,t){return e<<t|e>>>32-t}function r(e){for(var t="",n=7;0<=n;n--)t+=(e>>>4*n&15).toString(16);return t}e=unescape(encodeURIComponent(e));for(var i=[1518500249,1859775393,2400959708,3395469782],o=(e+=String.fromCharCode(128)).length/4+2,a=Math.ceil(o/16),c=new Array(a),s=0;s<a;s++){c[s]=new Array(16);for(var u=0;u<16;u++)c[s][u]=e.charCodeAt(64*s+4*u)<<24|e.charCodeAt(64*s+4*u+1)<<16|e.charCodeAt(64*s+4*u+2)<<8|e.charCodeAt(64*s+4*u+3)}c[a-1][14]=8*(e.length-1)/Math.pow(2,32),c[a-1][14]=Math.floor(c[a-1][14]),c[a-1][15]=8*(e.length-1)&4294967295;var f,l,d,p,g,h=1732584193,b=4023233417,w=2562383102,v=271733878,m=3285377520,_=new Array(80);for(s=0;s<a;s++){for(var y=0;y<16;y++)_[y]=c[s][y];for(y=16;y<80;y++)_[y]=n(_[y-3]^_[y-8]^_[y-14]^_[y-16],1);f=h,l=b,d=w,p=v,g=m;for(y=0;y<80;y++){var S=Math.floor(y/20),A=n(f,5)+t(S,l,d,p)+g+i[S]+_[y]&4294967295;g=p,p=d,d=n(l,30),l=f,f=A}h=h+f&4294967295,b=b+l&4294967295,w=w+d&4294967295,v=v+p&4294967295,m=m+g&4294967295}return r(h)+r(b)+r(w)+r(v)+r(m)}},{}],"webengage/util/transit":[function(e,t,n){"use strict";var a=e("webengage/util/type"),c=e("webengage/util/bare"),r={encode:function(e){return function e(t,n){var r;if(n=n?n.slice():[],null===t)return null;if("string"===a(t))return"~"==t.charAt(0)?"~"+t:t;if("date"===a(t))return"~t"+c.toDateISOString(t);if("array"===a(t)){r=[];for(var i=0;i<t.length;i++)r[i]=e(t[i],n);return r}if("object"!==a(t))return t;if(-1!=c.indexOfArray(n,t))throw new Error("Encountered circular references while encoding data in transit format");for(var o in n.push(t),r={},t)t.hasOwnProperty(o)&&(r[e(o)]=e(t[o],n));return r}(e)},decode:function(e){return function e(t){var n;if(null===t)return null;if("string"===a(t))return 0===t.indexOf("~t")?c.fromDateISOString(t.substr(2)):0===t.indexOf("~~")?t.substr(1):t;if("array"===a(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}if("object"!==a(t))return t;for(var i in n={},t)t.hasOwnProperty(i)&&(n[e(i)]=e(t[i]));return n}(e)}};t.exports=r},{}],"webengage/util/type":[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(e){var t=r.call(e);switch(t){case"[object String]":return"string";case"[object Number]":return"number";case"[object Boolean]":return"boolean";case"[object Date]":return"date";case"[object Array]":return"array";case"[object Function]":return"function";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments"}return null===e?"null":e===a?"undefined":"[object Object]"===t?"object":t.slice(8,-1)}},{}],"webengage/web-push/merged-worker":[function(e,t,n){"use strict";var r,s=e("webengage/util/bare"),u=e("webengage/util/transit"),f=e("webengage/util/compress"),i=e("webengage/util/sha1"),o=(r=i)&&r.__esModule?r:{default:r};var a="push_notification_registered",c="push_notification_unregistered",l="user_update",d="push_notification_opt_out",p="user_delete_device",g="",h="amp-web-push-subscription-state",b="amp-web-push-subscribe",w="amp-web-push-unsubscribe";function v(e){var t=(e||"").match(/#context=(\S*)$/);return t&&t[1]?JSON.parse((0,s.base64Decode)(decodeURIComponent(t[1]))):null}function m(n){var e=indexedDB.open("WE_PUSH",1);e.onupgradeneeded=function(e){e.target.result.createObjectStore("user",{keyPath:"id"})},e.onsuccess=function(e){var t=e.target.result;t.onerror=function(e){A(e.target.error,"Error in indexedDB")},"function"==typeof n&&n(t)}}function _(e){return(0,o.default)(e)}function y(e){var t={id:"context",license_code:e.license_code,luid:e.luid,suid:e.suid,permission:Notification.permission};return e.cuid&&(t.cuid=e.cuid),e.opt_in_url&&(t.opt_in_url=e.opt_in_url),t}function S(o,a,c){m(function(i){i.transaction(["user"]).objectStore("user").get("context").onsuccess=function(e){var t=e.target.result;if(c=(0,s.copy)({sdk_id:1},c||{},!0),t||(t=c),c.license_code&&c.license_code!==t.license_code&&(t=c),t&&t.license_code){var n={license_code:t.license_code,luid:t.luid,suid:t.suid,category:"system",event_name:o||"unknown",event_data:(0,s.copy)({},a||{},!0),system_data:c};t.cuid&&(n.cuid=t.cuid),(t.interfaceId||c.interface_id)&&(n.interface_id=c.interface_id||t.interfaceId),delete c.license_code,delete c.interface_id,delete c.cuid,delete c.luid;var r=JSON.stringify((0,u.encode)([n]));r=(0,f.compressToBase64)(r),fetch("https://c.webengage.com/l3.jpg",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"data="+encodeURIComponent(r)}).catch(function(e){A(e,"Error in logging event")})}i.close()}})}function A(e,t,n,r){try{t=t||"",e instanceof Error&&(r=900<(r=e.stack||e.description).length?r.substring(0,900):r,t=t+" - "+(e.message||r.substring(0,50)),n="exception.sw"),n&&(r="["+j.registration.scope+"] "+r,fetch((0,s.addParamsToURL)(("http:"==location.protocol?"http:":"https:")+"//c.webengage.com/e.jpg",{event:t,category:"",type:n,data:JSON.stringify({version:"6.0",text:r}),ts:(new Date).getTime()})))}catch(e){}}function O(e,t){if("WebEngage"!==(e=e||{}).source)return Promise.resolve();var n={experiment_id:e.experimentId,id:e.id,scope:e.scope,license_code:e.licenseCode,luid:e.luid,interface_id:e.interfaceId,cuid:e.cuid};if(e.journeyId&&(n.journey_id=e.journeyId),S("push_notification_view",{},(0,s.copy)({},n)),e.secondaryCta){e.actions=e.secondaryCta,n.actions={};for(var r=0;r<e.actions.length;r++)n.actions[e.actions[r].action]={url:e.actions[r].url}}return e.cta&&e.cta.actionLink&&(n.url=e.cta.actionLink,n.cta=e.cta.id),e.image||delete e.image,e.body=e.description,e.icon=(e.icon||"")+"#context="+encodeURIComponent((0,s.base64Encode)(JSON.stringify(n))),e.badge=(e.badge||"")+"#context="+encodeURIComponent((0,s.base64Encode)(JSON.stringify(n))),j.registration.showNotification(e.title,e)}function x(t){if(void 0===t)t={license_code:licenseCode,luid:g};function n(e){return(e=e||{title:"Thanks for subscribing",body:"You are awesome",icon:t.icon}).image||delete e.image,e.cta&&e.cta.actionLink&&e.icon&&(e.icon=e.icon+"#context="+encodeURIComponent((0,s.base64Encode)(JSON.stringify({url:e.cta.actionLink})))),j.registration.showNotification(e.title,e)}t.hideSubscriptionMessage||fetch((0,s.addParamsToURL)("https://p.webengage.com:443/users/"+t.license_code+"/"+t.luid+"/templates/WEBPUSH_ACK_"+t.license_code,t.cuid?{cuid:t.cuid}:{}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.p13n||{}),mode:"cors"}).then(function(e){if(200===e.status)return e.json().then(function(e){if(!(e&&e.templateData&&e.status&&e.status.success))throw new Error;return n(e.templateData)});if(404===e.status)return n();throw new Error}).catch(function(e){A(e,"Error in fetching subscription message")})}function C(n,r){j.clients.matchAll().then(function(e){for(var t=0;t<e.length;t++){e[t].postMessage({command:n,payload:r})}})}j.addEventListener("install",function(e){e.waitUntil(j.skipWaiting().then(function(){m()}))}),j.addEventListener("activate",function(e){e.waitUntil(j.clients.claim().then(function(){setInterval(function(){m(function(n){var r=n.transaction(["user"],"readwrite").objectStore("user");r.get("context").onsuccess=function(e){var t=e.target.result;t&&t.id&&"granted"===t.permission&&t.permission!==Notification.permission&&(S(d,{source:"service-worker"}),S(p,null,{interface_id:t.interfaceId}),t.permission=Notification.permission,S(c,null,{interface_id:t.interfaceId}),delete t.interfaceId,delete t.subscription,delete t.opt_in_url,r.put(t),n.close())}}),j.registration.pushManager.getSubscription().then(function(i){m(function(n){var r=n.transaction(["user"],"readwrite").objectStore("user");r.get("context").onsuccess=function(e){var t=e.target.result;t&&(!i||t.subscription&&i.endpoint===t.subscription.endpoint||(t.interfaceId&&S(p,null,{interface_id:t.interfaceId}),t.interfaceId=_(i.endpoint),t.subscription=i.toJSON(),r.put(t),S(a,{subscription:i.toJSON()}),S(l,{},{opt_in_push:!0,opt_in_url:t.opt_in_url})),n.close())}})})},6e5)}))}),j.addEventListener("message",function(e){var t,n,o;switch(e.data.command){case h:return n=null,void j.registration.pushManager.getSubscription().then(function(e){return(n=e)?j.registration.pushManager.permissionState(e.options):null}).then(function(e){C(h,null!=e&&!!n&&"granted"===e)});case b:return t=(0,s.urlBase64ToUint8Array)(vapidPublicKey),void j.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t}).then(function(i){m(function(t){var e=t.transaction("user","readwrite"),n=e.objectStore("user"),r=n.get("context");t.onerror=function(e){console.log(e)},r.onsuccess=function(){g=r.result&&r.result.luid,n.put({id:"context",license_code:licenseCode,luid:g,permission:"granted",opt_in_url:j.registration.scope,interfaceId:_(i.endpoint),subscription:i.toJSON()}),S(a,{subscription:i.toJSON(),is_amp:1,type:"vapid"}),S(l,{is_amp:1},{opt_in_push:!0,opt_in_url:r.result.opt_in_url}),x(),C(b,null)},e.oncomplete=function(e){t.close()}})});case w:return void m(function(e){e.transaction(["user"],"readwrite").objectStore("user").get("context").onsuccess=function(e){j.registration.pushManager.getSubscription().then(function(e){e.unsubscribe()}).then(function(e){m(function(t){var e=t.transaction("user","readwrite"),n=e.objectStore("user");t.onerror=function(e){console.log(e)};var r=n.get("context");r.onsuccess=function(){var e=r.result;S(d,{source:"service-worker",is_amp:1}),S(p,null,{interface_id:e.interfaceId,is_amp:1}),S(c,null,{interface_id:e.interfaceId,is_amp:1}),e.permission="denied",n.put(e)},e.oncomplete=function(e){t.close()}}),C(w,null)})}})}try{var r=JSON.parse(e.data);r.eventName===a?function t(i){j.registration.pushManager.getSubscription().then(function(r){if(r)m(function(t){var n=t.transaction(["user"],"readwrite").objectStore("user");n.get("context").onsuccess=function(){var e=y(i);e.permission="granted",e.interfaceId=_(r.endpoint),e.subscription=r.toJSON(),n.put(e),t.close(),S(a,{subscription:r.toJSON(),type:i.wp_vapid?"vapid":"refresh"},i.system_data),S(l,{},{opt_in_push:!0,opt_in_url:i.opt_in_url}),x(i)}});else{var e={userVisibleOnly:!0};i.vapidPublicKey?e={userVisibleOnly:i.wp_vapid=!0,applicationServerKey:(0,s.urlBase64ToUint8Array)(i.vapidPublicKey)}:i.wp_vapid=!1,j.registration.pushManager.subscribe(e).then(function(){t(i)}).catch(function(e){A(e,"Error in pushManager.subscribe()")})}})}(r):(o=r,m(function(r){var i=r.transaction(["user"],"readwrite").objectStore("user");i.get("context").onsuccess=function(e){var t=y(o),n=e.target.result;n&&n.subscription&&(t.interfaceId=n.interfaceId||null,t.subscription=n.subscription),i.put(t),r.close(),S(o.eventName,null,o.system_data)}}))}catch(e){A(e,"Error in parsing message data")}}),j.addEventListener("push",function(e){e.data?e.waitUntil(O(e.data.json())):e.waitUntil(j.registration.pushManager.getSubscription().then(function(e){return fetch("https://z.webengagepush.com/payload/"+_(e.endpoint)).then(function(e){if(200!==e.status)throw new Error;return e.json().then(function(e){if("success"!==e.status)throw new Error;return O(e.data)})}).catch(function(e){A(e,"Error in fetching payload")})}))}),j.addEventListener("notificationclose",function(e){var t=v(e.notification.icon);t&&!e.notification.onclick&&(delete t.actions,delete t.url,delete t.cta,S("push_notification_close",{},t))}),j.addEventListener("notificationclick",function(e){e.notification.onclick=function(){},e.notification.close();var t=v(e.notification.icon);if(t){var r=t.url;e.action&&t.actions&&t.actions[e.action]&&(t.cta=e.action,r=t.actions[e.action].url),delete t.actions,delete t.url,r||delete t.cta,t.experiment_id&&S("push_notification_click",{},t),r&&e.waitUntil(clients.matchAll({type:"window"}).then(function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.url===r&&"focus"in n)return n.focus()}if(clients.openWindow)return clients.openWindow(r)}))}})},{}]},{},["webengage/web-push/merged-worker"])}(self,webengage);